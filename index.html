<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>簡単習慣トラッカー</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 2em auto;
      padding: 1em;
      background: #f5f5f5;
    }
    h1 {
      text-align: center;
    }
    #habit-form {
      display: flex;
      margin-bottom: 1em;
    }
    #habit-name {
      flex: 1;
      padding: 0.5em;
      font-size: 1em;
    }
    #add-btn {
      padding: 0.5em 1em;
      font-size: 1em;
      margin-left: 0.5em;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
    }
    th, td {
      border: 1px solid #ccc;
      text-align: center;
      padding: 0.5em;
    }
    th {
      background: #eee;
    }
    td input[type="checkbox"] {
      transform: scale(1.2);
      cursor: pointer;
    }
    .habit-name {
      text-align: left;
      padding-left: 1em;
    }
  </style>
</head>
<body>

  <h1>簡単習慣トラッカー</h1>

  <form id="habit-form">
    <input type="text" id="habit-name" placeholder="新しい習慣を入力" required />
    <button type="submit" id="add-btn">追加</button>
  </form>

  <table id="habit-table">
    <thead>
      <tr>
        <th>習慣</th>
        <!-- 日付のヘッダーはJavaScriptで自動生成 -->
      </tr>
    </thead>
    <tbody>
      <!-- 習慣の行をここに追加 -->
    </tbody>
  </table>

  <script>
    const habitForm = document.getElementById('habit-form');
    const habitNameInput = document.getElementById('habit-name');
    const habitTable = document.getElementById('habit-table');
    const tbody = habitTable.querySelector('tbody');
    const theadRow = habitTable.querySelector('thead tr');

    // 今日から7日分の日付を生成
    function createDateHeaders() {
      for(let i = 0; i < 7; i++) {
        const th = document.createElement('th');
        const date = new Date();
        date.setDate(date.getDate() + i);
        th.textContent = `${date.getMonth() + 1}/${date.getDate()}`;
        theadRow.appendChild(th);
      }
    }

    createDateHeaders();

    habitForm.addEventListener('submit', e => {
      e.preventDefault();
      const habitName = habitNameInput.value.trim();
      if (!habitName) return;

      const tr = document.createElement('tr');
      const nameTd = document.createElement('td');
      nameTd.textContent = habitName;
      nameTd.classList.add('habit-name');
      tr.appendChild(nameTd);

      for(let i = 0; i < 7; i++) {
        const td = document.createElement('td');
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        td.appendChild(checkbox);
        tr.appendChild(td);
      }

      tbody.appendChild(tr);
      habitNameInput.value = '';
    });
  </script>

</body>
</html>
